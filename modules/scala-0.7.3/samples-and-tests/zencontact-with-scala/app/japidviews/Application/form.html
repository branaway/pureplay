#{extends 'main.html' /}
`args Contact contact

#{set title:"Form" /}

<form action="@{save()}">
    <input type="hidden" name="contact.id" value="${contact != null ? contact.id : ""}">
    
    <p class="field">
        <label for="name">Name:</label>
        <input type="text" id="name" name="contact.name" value="${contact != null ? contact.name : ""}">
        <span class="error">${errors.forKey("contact.name")}</span>
    </p>

    <p class="field">
        <label for="firstname">First name:</label>
        <input type="text" id="firstname" name="contact.firstname" value="${contact  != null ? contact.firstname :""}">
        <span class="error">${errors.forKey("contact.firstname")}</span>
    </p>

    <p class="field">
        <label for="birthdate">Birth date:</label>
        <input type="text" id="birthdate" name="contact.birthdate" value="${contact != null ? (contact.birthdate != null? format(contact.birthdate, "yyyy-MM-dd") : "") : ""}">
        <span class="error">${errors.forKey("contact.birthdate")}</span>
    </p>

    <p class="field">
        <label for="email">Email:</label>
        <input type="text" id="email" name="contact.email" value="${contact != null ? contact.email :""}">
        <span class="error">${errors.forKey("contact.email")}</span>
    </p>

    <p class="buttons">
     	<a href="@{list()}">Cancel</a> or <input type="submit" value="Save this contact" id="saveContact">
    </p>
    
    <script type="text/javascript" charset="utf-8">
        $("#birthdate").datepicker({dateFormat:'yy-mm-dd', showAnim:'fadeIn'})
	</script>
</form>
